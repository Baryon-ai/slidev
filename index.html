<!DOCTYPE html>
<html lang="ko" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marp Vertical - ì„¸ë¡œ ìŠ¤í¬ë¡¤ í”„ë ˆì  í…Œì´ì…˜</title>
    <meta name="description" content="GitHub ë§ˆí¬ë‹¤ìš´ì„ ì•„ë¦„ë‹¤ìš´ ì„¸ë¡œ ìŠ¤í¬ë¡¤ í”„ë ˆì  í…Œì´ì…˜ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ëª¨ë˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜. 6ê°€ì§€ Marp í…Œë§ˆ, ìˆ˜ì‹, ì½”ë“œ ê°•ì¡°, GitHub ì—°ë™, ë°˜ì‘í˜•, í’€ìŠ¤í¬ë¦° ì§€ì›." />
    <meta property="og:title" content="Marp Vertical - ì„¸ë¡œ ìŠ¤í¬ë¡¤ í”„ë ˆì  í…Œì´ì…˜ ë·°ì–´" />
    <meta property="og:description" content="GitHub ë§ˆí¬ë‹¤ìš´ì„ ì•„ë¦„ë‹¤ìš´ ì„¸ë¡œ ìŠ¤í¬ë¡¤ í”„ë ˆì  í…Œì´ì…˜ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ëª¨ë˜ ì›¹ì•±. 6ê°€ì§€ í…Œë§ˆ, ìˆ˜ì‹, ì½”ë“œ, GitHub ì—°ë™, ë°˜ì‘í˜•, í’€ìŠ¤í¬ë¦° ì§€ì›." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://your-domain.com" />
    <meta property="og:image" content="/og-image.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Marp Vertical - ì„¸ë¡œ ìŠ¤í¬ë¡¤ í”„ë ˆì  í…Œì´ì…˜ ë·°ì–´" />
    <meta name="twitter:description" content="GitHub ë§ˆí¬ë‹¤ìš´ì„ ì•„ë¦„ë‹¤ìš´ ì„¸ë¡œ ìŠ¤í¬ë¡¤ í”„ë ˆì  í…Œì´ì…˜ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ëª¨ë˜ ì›¹ì•±. 6ê°€ì§€ í…Œë§ˆ, ìˆ˜ì‹, ì½”ë“œ, GitHub ì—°ë™, ë°˜ì‘í˜•, í’€ìŠ¤í¬ë¦° ì§€ì›." />
    <meta name="twitter:image" content="/og-image.png" />
    
    <!-- Styles -->
    <link rel="stylesheet" href="/src/styles/main.css">
    <link rel="stylesheet" href="/src/styles/themes.css">
    
    <!-- KaTeX -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
    
    <!-- Prism.js -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</head>

<body 
    class="h-full bg-gradient-to-br from-slate-50 to-blue-50 font-sans text-gray-900 transition-all duration-300"
    x-data="$store.app"
    x-init="init()"
>
    <!-- Header -->
    <header 
        class="sticky top-0 z-50 bg-white/80 backdrop-blur-lg border-b border-gray-200 shadow-sm" 
        id="header"
        x-show="!isFullscreen"
        x-transition
    >
        <div class="max-w-full mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Title -->
            <div class="text-center py-4">
                <h1 class="text-2xl font-bold text-gray-900 mb-4">
                    <span class="text-brand-600">ğŸ¯</span> Marp Vertical
                    <span class="text-gray-600">- ì„¸ë¡œ ìŠ¤í¬ë¡¤ í”„ë ˆì  í…Œì´ì…˜ ë·°ì–´</span>
                </h1>
            </div>

            <!-- Controls -->
            <div class="pb-4">
                <div class="flex flex-wrap items-center justify-center gap-4">
                    <!-- Layout Controls -->
                    <div class="inline-flex rounded-lg bg-gray-100 p-1">
                        <button 
                            @click="setLayout('presentation')"
                            :class="currentLayout === 'presentation' ? 'bg-brand-600 text-white' : 'text-gray-600 hover:text-gray-900'"
                            class="px-3 py-2 text-sm font-medium rounded-md transition-all duration-200"
                        >
                            ğŸ­ í”„ë ˆì  í…Œì´ì…˜
                        </button>
                        <button 
                            @click="setLayout('split')"
                            :class="currentLayout === 'split' ? 'bg-brand-600 text-white' : 'text-gray-600 hover:text-gray-900'"
                            class="px-3 py-2 text-sm font-medium rounded-md transition-all duration-200"
                        >
                            ğŸ“Š ë¶„í•  ë³´ê¸°
                        </button>
                    </div>

                    <!-- Theme Selector -->
                    <div class="flex items-center gap-2">
                        <label class="text-sm font-medium text-gray-700">ğŸ¨</label>
                        <select 
                            x-model="currentTheme" 
                            @change="changeTheme($event.target.value)"
                            class="rounded-md border-gray-300 text-sm focus:border-brand-500 focus:ring-brand-500"
                        >
                            <option value="default">ğŸ“‹ Default</option>
                            <option value="gaia">ğŸŒ™ Gaia</option>
                            <option value="uncover">ğŸ“° Uncover</option>
                            <option value="academic">ğŸ“ Academic</option>
                            <option value="business">ğŸ’¼ Business</option>
                            <option value="nature">ğŸŒ¿ Nature</option>
                        </select>
                    </div>

                    <!-- Navigation Position -->
                    <div class="flex items-center gap-2">
                        <label class="text-sm font-medium text-gray-700">ğŸ“</label>
                        <select 
                            x-model="navPosition"
                            @change="changeNavPosition($event.target.value)"
                            class="rounded-md border-gray-300 text-sm focus:border-brand-500 focus:ring-brand-500"
                        >
                            <option value="left">ì™¼ìª½</option>
                            <option value="right">ì˜¤ë¥¸ìª½</option>
                        </select>
                    </div>

                    <!-- Action Buttons -->
                    <button 
                        @click="toggleInput()"
                        class="px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
                    >
                        âš™ï¸ ì…ë ¥ì°½
                    </button>
                    
                    <button 
                        @click="toggleFullscreen()"
                        class="px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
                    >
                        ğŸ–¥ï¸ í’€ìŠ¤í¬ë¦°
                    </button>
                    
                    <button 
                        @click="$dispatch('open-modal')"
                        class="px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
                    >
                        ğŸ“ GitHub
                    </button>
                    
                    <button 
                        @click="loadOfficialDemo()"
                        class="px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-red-500 to-red-600 rounded-md hover:from-red-600 hover:to-red-700 transition-all"
                    >
                        ğŸ¯ ê³µì‹ ë°ëª¨
                    </button>
                </div>
            </div>

            <!-- Input Area -->
            <div 
                class="transition-all duration-300 overflow-hidden"
                x-show="inputVisible"
                x-transition
            >
                <div class="flex flex-col lg:flex-row gap-4 pb-4">
                    <div class="flex-1">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            ë§ˆí¬ë‹¤ìš´ ì…ë ¥ (--- ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ êµ¬ë¶„)
                        </label>
                        <textarea 
                            x-model="markdownInput"
                            class="w-full h-32 px-3 py-2 text-sm font-mono border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent resize-y"
                            placeholder="# ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ&#10;ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...&#10;&#10;---&#10;&#10;# ë‘ ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ&#10;ë” ë§ì€ ë‚´ìš©..."
                        ></textarea>
                    </div>
                    <div class="flex flex-col gap-2 lg:w-48">
                        <button 
                            @click="parseMarkdown(markdownInput)"
                            class="w-full px-4 py-2 text-sm font-semibold text-white bg-brand-600 rounded-lg hover:bg-brand-700 transition-colors"
                        >
                            ğŸš€ ìƒì„±
                        </button>
                        <button 
                            @click="loadSample()"
                            class="w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"
                        >
                            ğŸ“ ìƒ˜í”Œ
                        </button>
                        <button 
                            @click="clearAll()"
                            class="w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"
                        >
                            ğŸ—‘ï¸ ì´ˆê¸°í™”
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main 
        class="flex-1 flex bg-white rounded-xl shadow-lg overflow-hidden" 
        id="viewer-container"
        :class="isFullscreen ? 'h-screen rounded-none m-0' : 'm-4'"
    >
        <!-- Editor Section -->
        <div 
            class="flex-col bg-gray-50 border-r border-gray-200 w-1/2" 
            x-show="currentLayout === 'split'"
            x-transition
        >
            <div class="bg-gray-100 px-4 py-3 border-b border-gray-200">
                <h3 class="text-sm font-semibold text-gray-900">ğŸ“ ë§ˆí¬ë‹¤ìš´ ì—ë””í„°</h3>
            </div>
            <div class="flex-1 p-4">
                <textarea 
                    x-model="markdownInput"
                    class="w-full h-full p-3 text-sm font-mono border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-brand-500"
                ></textarea>
            </div>
        </div>

        <!-- Presentation Section -->
        <div 
            class="flex flex-1 presentation-section" 
            :class="navPosition === 'right' ? 'flex-row-reverse' : ''"
        >
            <!-- Slide Navigation -->
            <div 
                class="w-64 bg-gray-50 overflow-y-auto border-r border-gray-200" 
                id="slide-navigation"
                :class="navPosition === 'right' ? 'border-l border-r-0' : ''"
            >
                <!-- Content will be populated by JavaScript -->
            </div>

            <!-- Slide Viewer -->
            <div class="flex-1 flex flex-col" id="slide-viewer">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Controls -->
    <div 
        class="fixed bottom-6 right-6 bg-brand-600 text-white px-4 py-2 rounded-full font-semibold text-sm shadow-lg z-50"
        id="page-indicator"
        x-show="slides.length > 0"
        x-text="(currentSlide + 1) + ' / ' + slides.length"
    ></div>

    <div 
        class="fixed bottom-6 left-1/2 transform -translate-x-1/2 flex gap-2 z-50"
        id="slide-controls"
        x-show="slides.length > 0"
    >
        <button 
            @click="previousSlide()"
            class="px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 text-sm shadow-lg transition-colors"
        >
            â† ì´ì „
        </button>
        <button 
            @click="nextSlide()"
            class="px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 text-sm shadow-lg transition-colors"
        >
            ë‹¤ìŒ â†’
        </button>
    </div>

    <!-- GitHub Modal -->
    <div 
        x-data="{ open: false }"
        @open-modal.window="open = true"
        @keydown.escape="open = false"
        x-show="open"
        class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
        x-transition
    >
        <div 
            @click.away="open = false"
            class="bg-white rounded-xl shadow-2xl max-w-lg w-full"
        >
            <div class="p-6">
                <h3 class="text-lg font-semibold mb-4">GitHub ë§ˆí¬ë‹¤ìš´ ë¡œë“œ</h3>
                <input 
                    x-model="githubUrl"
                    type="text" 
                    placeholder="https://github.com/user/repo/blob/main/file.md"
                    class="w-full px-3 py-2 border rounded-lg mb-4"
                >
                <div class="flex gap-2">
                    <button 
                        @click="loadFromGitHub(githubUrl); open = false"
                        class="flex-1 px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700"
                    >
                        ë¡œë“œ
                    </button>
                    <button 
                        @click="open = false"
                        class="px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400"
                    >
                        ì·¨ì†Œ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="/src/scripts/main.js"></script>
    <script>
      // ë™ì  SEO: url íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ë§ˆí¬ë‹¤ìš´ì˜ ì œëª©ì„ SEOì— ë°˜ì˜
      (async function() {
        const params = new URLSearchParams(window.location.search);
        const url = params.get('url');
        if (url) {
          // íŒŒì¼ëª… ì¶”ì¶œ
          let title = url.split('/').pop().replace(/\.md$/, '');
          // ë§ˆí¬ë‹¤ìš´ ì²« H1 ì¶”ì¶œ ì‹œë„
          try {
            const resp = await fetch(url);
            if (resp.ok) {
              const text = await resp.text();
              const h1 = text.match(/^#\s+(.+)$/m);
              if (h1 && h1[1]) title = h1[1];
            }
          } catch(e) {}
          document.title = title + ' - Marp Vertical';
          // SEO meta ë™ì  ë³€ê²½
          const desc = document.querySelector('meta[name="description"]');
          if (desc) desc.setAttribute('content', title + ' | GitHub ë§ˆí¬ë‹¤ìš´ í”„ë ˆì  í…Œì´ì…˜ ë·°ì–´');
          const ogt = document.querySelector('meta[property="og:title"]');
          if (ogt) ogt.setAttribute('content', title + ' - Marp Vertical');
          const ogd = document.querySelector('meta[property="og:description"]');
          if (ogd) ogd.setAttribute('content', title + ' | GitHub ë§ˆí¬ë‹¤ìš´ í”„ë ˆì  í…Œì´ì…˜ ë·°ì–´');
          const twt = document.querySelector('meta[name="twitter:title"]');
          if (twt) twt.setAttribute('content', title + ' - Marp Vertical');
          const twd = document.querySelector('meta[name="twitter:description"]');
          if (twd) twd.setAttribute('content', title + ' | GitHub ë§ˆí¬ë‹¤ìš´ í”„ë ˆì  í…Œì´ì…˜ ë·°ì–´');
        }
      })();
    </script>
</body>
</html> 